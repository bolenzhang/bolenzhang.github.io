
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦ | Bolen`s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Bolen Zhang">
    

    
    <meta name="description" content="æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦1ã€ä¸‹è½½1$ git clone https://github.com/ethereum/go-ethereum.git 2ã€ç¼–è¯‘1234$ cd go-ethereum$ make geth windowsä¸‹æ˜¯ï¼šgo install -v ./...//å…¶å®å°±æ˜¯å»ä¸‹è½½å®‰è£…ä¸€äº›ä¾èµ–çš„é™æ€åº“ å°† geth æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ vi ~/.bashrc 12export GE">
<meta name="keywords" content="ä»¥å¤ªåŠåº”ç”¨,ç§é“¾">
<meta property="og:type" content="article">
<meta property="og:title" content="ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦">
<meta property="og:url" content="http://yoursite.com/2018/04/29/ä»¥å¤ªåŠç§é“¾æ­å»ºåŠæ™ºèƒ½åˆçº¦éƒ¨ç½²/index.html">
<meta property="og:site_name" content="Bolen`s Blog">
<meta property="og:description" content="æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦1ã€ä¸‹è½½1$ git clone https://github.com/ethereum/go-ethereum.git 2ã€ç¼–è¯‘1234$ cd go-ethereum$ make geth windowsä¸‹æ˜¯ï¼šgo install -v ./...//å…¶å®å°±æ˜¯å»ä¸‹è½½å®‰è£…ä¸€äº›ä¾èµ–çš„é™æ€åº“ å°† geth æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ vi ~/.bashrc 12export GE">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/Truffle%20box%E7%9B%AE%E5%BD%95.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%85.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/eth%20wallet%E6%9F%A5%E7%9C%8B%E5%90%88%E7%BA%A6.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%852.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%853.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%854.png">
<meta property="og:image" content="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%855.png">
<meta property="og:updated_time" content="2018-06-03T15:34:27.312Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦">
<meta name="twitter:description" content="æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦1ã€ä¸‹è½½1$ git clone https://github.com/ethereum/go-ethereum.git 2ã€ç¼–è¯‘1234$ cd go-ethereum$ make geth windowsä¸‹æ˜¯ï¼šgo install -v ./...//å…¶å®å°±æ˜¯å»ä¸‹è½½å®‰è£…ä¸€äº›ä¾èµ–çš„é™æ€åº“ å°† geth æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ vi ~/.bashrc 12export GE">
<meta name="twitter:image" content="http://p8azvgsnq.bkt.clouddn.com/Truffle%20box%E7%9B%AE%E5%BD%95.png">

    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Bolen`s Blog" title="Bolen`s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Bolen`s Blog">Bolen`s Blog</a></h1>
				<h2 class="blog-motto">Summarize &amp; share</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
						<li><a href="/index">æ ‡ç­¾</a></li>
					
						<li><a href="/categories">åˆ†ç±»</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/29/ä»¥å¤ªåŠç§é“¾æ­å»ºåŠæ™ºèƒ½åˆçº¦éƒ¨ç½²/" title="ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦" itemprop="url">ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Bolen Zhang" target="_blank" itemprop="author">Bolen Zhang</a>
		
  <p class="article-time">
    <time datetime="2018-04-29T12:50:11.000Z" itemprop="datePublished"> Published 2018-04-29</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦"><span class="toc-text">æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1ã€ä¸‹è½½"><span class="toc-text">1ã€ä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2ã€ç¼–è¯‘"><span class="toc-text">2ã€ç¼–è¯‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3ã€æ­å»ºç§æœ‰é“¾"><span class="toc-text">3ã€æ­å»ºç§æœ‰é“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-é…ç½®åˆå§‹çŠ¶æ€"><span class="toc-text">3.1 é…ç½®åˆå§‹çŠ¶æ€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—"><span class="toc-text">3.2 åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹"><span class="toc-text">3.3 å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4ã€æ§åˆ¶å°æ“ä½œ"><span class="toc-text">4ã€æ§åˆ¶å°æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-åˆ›å»ºè´¦æˆ·"><span class="toc-text">4.1 åˆ›å»ºè´¦æˆ·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-æŸ¥çœ‹è´¦æˆ·ä½™é¢"><span class="toc-text">4.2 æŸ¥çœ‹è´¦æˆ·ä½™é¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-å¯åŠ¨-amp-åœæ­¢æŒ–çŸ¿"><span class="toc-text">4.3 å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-å‘é€äº¤æ˜“"><span class="toc-text">4.4 å‘é€äº¤æ˜“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—"><span class="toc-text">4.5 æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-å°ç»“"><span class="toc-text">4.6 å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦"><span class="toc-text">5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º"><span class="toc-text">5.1 æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾"><span class="toc-text">5.2 å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦"><span class="toc-text">5.3 é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦</span></a></li></ol></li></ol></li></ol>
		
		</div>
		
		<h1 id="æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦"><a href="#æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦" class="headerlink" title="æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦"></a>æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦</h1><h2 id="1ã€ä¸‹è½½"><a href="#1ã€ä¸‹è½½" class="headerlink" title="1ã€ä¸‹è½½"></a>1ã€ä¸‹è½½</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/ethereum/go-ethereum.git</span><br></pre></td></tr></table></figure>
<h2 id="2ã€ç¼–è¯‘"><a href="#2ã€ç¼–è¯‘" class="headerlink" title="2ã€ç¼–è¯‘"></a>2ã€ç¼–è¯‘</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd go-ethereum</span><br><span class="line">$ make geth </span><br><span class="line">windowsä¸‹æ˜¯ï¼š</span><br><span class="line">go install -v ./...//å…¶å®å°±æ˜¯å»ä¸‹è½½å®‰è£…ä¸€äº›ä¾èµ–çš„é™æ€åº“</span><br></pre></td></tr></table></figure>
<p>å°† <code>geth</code> æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ <code>vi ~/.bashrc</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export GETH=&quot;$GOPATH/src/github.com/ethereum/go-ethereum/build&quot;</span><br><span class="line">export PATH=&quot;$PATH:$GETH/bin&quot;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰§è¡Œ <code>source ~/.bashrc</code>ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geth --help</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¾“å‡ºä¸€äº›å¸®åŠ©æç¤ºå‘½ä»¤ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<p>å…¶å®æ­¤å¤„ä¹Ÿå¯ä»¥ç›´æ¥å»ä¸‹è½½ä»¥å¤ªåŠgethã€‚å°±ä¸ç”¨å»ç¼–è¯‘ç”Ÿæˆgethäº†ï¼š</p>
<blockquote>
<p>é’±åŒ…å·¥å…·ï¼š<a href="https://ethfans.org/wikis/Ethereum-Wallet-Mirror" target="_blank" rel="noopener">https://ethfans.org/wikis/Ethereum-Wallet-Mirror</a> </p>
</blockquote>
<blockquote>
<p>geth :<a href="https://ethfans.org/wikis/Ethereum-Geth-Mirror" target="_blank" rel="noopener">https://ethfans.org/wikis/Ethereum-Geth-Mirror</a> </p>
</blockquote>
<h2 id="3ã€æ­å»ºç§æœ‰é“¾"><a href="#3ã€æ­å»ºç§æœ‰é“¾" class="headerlink" title="3ã€æ­å»ºç§æœ‰é“¾"></a>3ã€æ­å»ºç§æœ‰é“¾</h2><h3 id="3-1-é…ç½®åˆå§‹çŠ¶æ€"><a href="#3-1-é…ç½®åˆå§‹çŠ¶æ€" class="headerlink" title="3.1 é…ç½®åˆå§‹çŠ¶æ€"></a>3.1 é…ç½®åˆå§‹çŠ¶æ€</h3><p>è¦è¿è¡Œä»¥å¤ªåŠç§æœ‰é“¾ï¼Œéœ€è¦å®šä¹‰è‡ªå·±çš„åˆ›ä¸–åŒºå—ï¼Œåˆ›ä¸–åŒºå—ä¿¡æ¯å†™åœ¨ä¸€ä¸ª JSON æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­ã€‚é¦–å…ˆå°†ä¸‹é¢çš„å†…å®¹ä¿å­˜åˆ°ä¸€ä¸ª JSON æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ <code>genesis.json</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/privatechain</span><br><span class="line">$ cd privatechain</span><br><span class="line">$ vi genesis.json</span><br></pre></td></tr></table></figure>
<p><strong>genesis.json çš„ä»£ç </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;config&quot;: &#123;</span><br><span class="line">        &quot;chainId&quot;: 10, </span><br><span class="line">        &quot;homesteadBlock&quot;: 0,</span><br><span class="line">        &quot;eip155Block&quot;: 0,</span><br><span class="line">        &quot;eip158Block&quot;: 0</span><br><span class="line">    &#125;,</span><br><span class="line">	&quot;difficulty&quot; : &quot;2000000&quot;,</span><br><span class="line">  &quot;gasLimit&quot;   : &quot;2100000&quot;,</span><br><span class="line">  &quot;alloc&quot;: &#123;</span><br><span class="line">    &quot;0x986c0D89b3804D923Ef527788c92d18106f3ba86&quot;: &#123;&quot;balance&quot;: &quot;300000&quot;&#125;,</span><br><span class="line">    &quot;0xd303F820Cff99CA74B802549ccB570e35bb0F1d4&quot;: &#123;&quot;balance&quot;: &quot;250000&quot;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼ŒchainID æŒ‡å®šäº†ç‹¬ç«‹çš„åŒºå—é“¾ç½‘ç»œ IDã€‚ç½‘ç»œ ID åœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œ ID æ˜¯ 1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œ IDã€‚ä¸åŒ ID ç½‘ç»œçš„èŠ‚ç‚¹æ— æ³•ç›¸äº’è¿æ¥ã€‚é…ç½®æ–‡ä»¶è¿˜å¯¹å½“å‰æŒ–çŸ¿éš¾åº¦ difficultyã€åŒºå— Gas æ¶ˆè€—é™åˆ¶ gasLimit ç­‰å‚æ•°è¿›è¡Œäº†è®¾ç½®ã€‚</p>
<p>allocï¼Œæ˜¯æŠŠå®ç°åˆ›å»ºçš„é’±åŒ…åœ°å€ä¸­é¢„åˆ†é…äº†ä¸€äº›ä½™é¢ã€‚</p>
<h3 id="3-2-åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—"><a href="#3-2-åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—" class="headerlink" title="3.2 åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—"></a>3.2 åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geth --datadir data0 init genesis.json</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å‘½ä»¤çš„ä¸»ä½“æ˜¯ <code>geth init</code>ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åŒºå—é“¾ï¼Œå‘½ä»¤å¯ä»¥å¸¦æœ‰é€‰é¡¹å’Œå‚æ•°ï¼Œå…¶ä¸­ <code>--datadir</code> é€‰é¡¹åé¢è·Ÿä¸€ä¸ªç›®å½•åï¼Œè¿™é‡Œä¸º <code>å½“å‰ç›®å½•</code>ï¼Œè¡¨ç¤ºæŒ‡å®šæ•°æ®å­˜æ”¾ç›®å½•ä¸º <code>å½“å‰ç›®å½•</code>ï¼Œ<code>genesis.json</code> æ˜¯ <code>init</code> å‘½ä»¤çš„å‚æ•°ã€‚</p>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šè¯»å– <code>genesis.json</code> æ–‡ä»¶ï¼Œæ ¹æ®å…¶ä¸­çš„å†…å®¹ï¼Œå°†åˆ›ä¸–åŒºå—å†™å…¥åˆ°åŒºå—é“¾ä¸­ã€‚å¦‚æœçœ‹åˆ°ä»¥ä¸‹çš„è¾“å‡ºå†…å®¹ï¼Œè¯´æ˜åˆå§‹åŒ–æˆåŠŸäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ geth --datadir data0 init genesis.json</span><br><span class="line">INFO [06-01|22:51:47] Maximum peer count                       ETH=25 LES=0 total=25</span><br><span class="line">INFO [06-01|22:51:47] Allocated cache and file handles         database=C:\\projects\\privatechain\\geth\\ch             aindata cache=16 handles=16</span><br><span class="line">INFO [06-01|22:51:47] Persisted trie from memory database      nodes=3 size=503.00B time=0s gcnodes=0 gcsize             =0.00B gctime=0s livenodes=1 livesize=0.00B</span><br><span class="line">INFO [06-01|22:51:47] Successfully wrote genesis state         database=chaindata                                                hash=947374â€¦5b939a</span><br><span class="line">INFO [06-01|22:51:47] Allocated cache and file handles         database=C:\\projects\\privatechain\\geth\\li             ghtchaindata cache=16 handles=16</span><br><span class="line">INFO [06-01|22:51:47] Persisted trie from memory database      nodes=3 size=503.00B time=0s gcnodes=0 gcsize             =0.00B gctime=0s livenodes=1 livesize=0.00B</span><br><span class="line">INFO [06-01|22:51:47] Successfully wrote genesis state         database=lightchaindata                                                hash=947374â€¦5b939a</span><br></pre></td></tr></table></figure>
<p>åˆå§‹åŒ–æˆåŠŸåï¼Œä¼šåœ¨<code>privatechain</code> çš„data0æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆ <code>geth</code> å’Œ <code>keystore</code> ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œæ­¤æ—¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">privatechain</span><br><span class="line">â”œâ”€â”€ data0</span><br><span class="line">â”‚   â”œâ”€â”€ geth</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ chaindata</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ 000001.log</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ CURRENT</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ LOCK</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ LOG</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ MANIFEST-000000</span><br><span class="line">â”‚   â”‚   â””â”€â”€ lightchaindata</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ 000001.log</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ CURRENT</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ LOCK</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ LOG</span><br><span class="line">â”‚   â”‚       â””â”€â”€ MANIFEST-000000</span><br><span class="line">â”‚   â””â”€â”€ keystore</span><br><span class="line">â””â”€â”€ genesis.json</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ <code>geth/chaindata</code> ä¸­å­˜æ”¾çš„æ˜¯åŒºå—æ•°æ®ï¼Œ<code>keystore</code> ä¸­å­˜æ”¾çš„æ˜¯è´¦æˆ·æ•°æ®ã€‚</p>
<h3 id="3-3-å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹"><a href="#3-3-å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹" class="headerlink" title="3.3 å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹"></a>3.3 å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geth --datadir data0 --networkid 110 --rpc console --port 0</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å‘½ä»¤çš„ä¸»ä½“æ˜¯ <code>geth console</code>ï¼Œè¡¨ç¤ºå¯åŠ¨èŠ‚ç‚¹å¹¶è¿›å…¥äº¤äº’å¼æ§åˆ¶å°ï¼Œ<code>--networkid</code> é€‰é¡¹åé¢è·Ÿä¸€ä¸ªæ•°å­—ï¼Œè¿™é‡Œæ˜¯110ï¼Œè¡¨ç¤ºæŒ‡å®šè¿™ä¸ªç§æœ‰é“¾çš„ç½‘ç»œidä¸º110ï¼Œå¹¶ä¸”å¼€å¯äº†rpcæœåŠ¡ã€‚ç½‘ç»œidåœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œidæ˜¯1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œidã€‚</p>
<p>å¦‚æœè¦æŒ‡å®šç«¯å£å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geth --datadir data0 --networkid 110 --rpc console --port 30304 --rpcport 8546</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œä¸Šé¢çš„å‘½ä»¤å¦‚æœæŠ¥é”™ï¼Œ<code>Fatal: Error starting protocol stack: Access is denied.</code>ï¼Œå°±æ£€æŸ¥ä¸‹æ˜¯å¦æœ‰å…¶ä»–çš„gethè¿›ç¨‹å¼€å¯ï¼Œæˆ‘å¡åœ¨è¿™é‡ŒåŠå¤©ï¼Œåæ¥å‘ç°æ˜¯æˆ‘æ‰“å¼€çš„é’±åŒ…å®¢æˆ·ç«¯ä¹Ÿå¼€å¯äº†<code>geth</code>ï¼Œæ‰€ä»¥å…³æ‰é’±åŒ…åå°±æ­£å¸¸äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Welcome to the Geth JavaScript console!</span><br><span class="line"></span><br><span class="line">instance: Geth/v1.8.10-unstable/windows-amd64/go1.9.4</span><br><span class="line"> modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„ JavaScript æ‰§è¡Œç¯å¢ƒï¼Œåœ¨è¿™é‡Œé¢å¯ä»¥æ‰§è¡Œ JavaScript ä»£ç ï¼Œå…¶ä¸­ &gt; æ˜¯å‘½ä»¤æç¤ºç¬¦ã€‚åœ¨è¿™ä¸ªç¯å¢ƒé‡Œä¹Ÿå†…ç½®äº†ä¸€äº›ç”¨æ¥æ“ä½œä»¥å¤ªåŠçš„ JavaScript å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>ethï¼šåŒ…å«ä¸€äº›è·Ÿæ“ä½œåŒºå—é“¾ç›¸å…³çš„æ–¹æ³•ï¼›</li>
<li>netï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹p2pç½‘ç»œçŠ¶æ€çš„æ–¹æ³•ï¼›</li>
<li>adminï¼šåŒ…å«ä¸€äº›ä¸ç®¡ç†èŠ‚ç‚¹ç›¸å…³çš„æ–¹æ³•ï¼›</li>
<li>minerï¼šåŒ…å«å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿çš„ä¸€äº›æ–¹æ³•ï¼›</li>
<li>personalï¼šä¸»è¦åŒ…å«ä¸€äº›ç®¡ç†è´¦æˆ·çš„æ–¹æ³•ï¼›</li>
<li><code>txpool</code>ï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹äº¤æ˜“å†…å­˜æ± çš„æ–¹æ³•ï¼›</li>
<li>web3ï¼šåŒ…å«äº†ä»¥ä¸Šå¯¹è±¡ï¼Œè¿˜åŒ…å«ä¸€äº›å•ä½æ¢ç®—çš„æ–¹æ³•ã€‚</li>
</ul>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå°±å¯åŠ¨äº†åŒºå—é“¾èŠ‚ç‚¹å¹¶è¿›å…¥äº†è¯¥èŠ‚ç‚¹çš„æ§åˆ¶å°ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ä¸ç§æœ‰é“¾èŠ‚ç‚¹è¿›è¡Œè®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>admin.nodeInfo</code>å‘½ä»¤æŸ¥çœ‹èŠ‚ç‚¹æ‘˜è¦ä¿¡æ¯ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬ç°åœ¨åªæ˜¯å¯åŠ¨äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœéœ€è¦å¯åŠ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œæ­¥éª¤è·Ÿä¸Šè¿°ä¸€æ ·ï¼Œå¦å¤–åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå°†<code>genisis.json</code>å¤åˆ¶åˆ°ç›®å½•ä¸­ï¼ŒæŒ‡å®šä¸åŒçš„ç«¯å£ç„¶åè¿›è¡Œåˆå§‹åŒ–å¹¶å¯åŠ¨èŠ‚ç‚¹å³å¯ã€‚</p>
<p>è‹¥åˆ›å»ºå¤šä¸ªèŠ‚ç‚¹ï¼Œåˆ™èŠ‚ç‚¹ä¹‹é—´å¯ä»¥é€šè¿‡<code>admin.addPeer</code>è¿æ¥ï¼Œåœ¨æœ¬æœºå¯åŠ¨å¤šä¸ªèŠ‚ç‚¹æˆ–è€…åœ¨ä¸åŒçš„è®¡ç®—æœºä¸Šè¿è¡Œå¤šä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥ï¼Œè¿™æ ·å¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€ä¸ªç§æœ‰é“¾ç½‘ç»œã€‚</p>
<h2 id="4ã€æ§åˆ¶å°æ“ä½œ"><a href="#4ã€æ§åˆ¶å°æ“ä½œ" class="headerlink" title="4ã€æ§åˆ¶å°æ“ä½œ"></a>4ã€æ§åˆ¶å°æ“ä½œ</h2><p>è¿›å…¥ä»¥å¤ªåŠ Javascript Console åï¼Œå°±å¯ä»¥ä½¿ç”¨é‡Œé¢çš„å†…ç½®å¯¹è±¡åšä¸€äº›æ“ä½œï¼Œè¿™äº›å†…ç½®å¯¹è±¡æä¾›çš„åŠŸèƒ½å¾ˆä¸°å¯Œï¼Œæ¯”å¦‚æŸ¥çœ‹åŒºå—å’Œäº¤æ˜“ã€åˆ›å»ºè´¦æˆ·ã€æŒ–çŸ¿ã€å‘é€äº¤æ˜“ã€éƒ¨ç½²æ™ºèƒ½åˆçº¦ç­‰ã€‚</p>
<p>å¸¸ç”¨å‘½ä»¤æœ‰ï¼š</p>
<ul>
<li>personal.newAccount()ï¼šåˆ›å»ºè´¦æˆ·ï¼›</li>
<li>personal.unlockAccount()ï¼šè§£é”è´¦æˆ·ï¼›</li>
<li>eth.accountsï¼šæšä¸¾ç³»ç»Ÿä¸­çš„è´¦æˆ·ï¼›</li>
<li>eth.getBalance()ï¼šæŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œè¿”å›å€¼çš„å•ä½æ˜¯ Weiï¼ˆWei æ˜¯ä»¥å¤ªåŠä¸­æœ€å°è´§å¸é¢é¢å•ä½ï¼Œç±»ä¼¼æ¯”ç‰¹å¸ä¸­çš„èªï¼Œ1 ether = 10^18 Weiï¼‰ï¼›</li>
<li>eth.blockNumberï¼šåˆ—å‡ºåŒºå—æ€»æ•°ï¼›</li>
<li>eth.getTransaction()ï¼šè·å–äº¤æ˜“ï¼›</li>
<li>eth.getBlock()ï¼šè·å–åŒºå—ï¼›</li>
<li>miner.start()ï¼šå¼€å§‹æŒ–çŸ¿ï¼›</li>
<li>miner.stop()ï¼šåœæ­¢æŒ–çŸ¿ï¼›</li>
<li>eth.coinbaseï¼šæŒ–çŸ¿å¥–åŠ±çš„è´¦æˆ·</li>
<li>web3.fromWei()ï¼šWei æ¢ç®—æˆä»¥å¤ªå¸ï¼›</li>
<li>web3.toWei()ï¼šä»¥å¤ªå¸æ¢ç®—æˆ Weiï¼›</li>
<li>txpool.statusï¼šäº¤æ˜“æ± ä¸­çš„çŠ¶æ€ï¼›</li>
<li><code>admin.addPeer()</code>ï¼šè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼›</li>
<li><code>admin.nodeInfo</code>ï¼šæŸ¥çœ‹èŠ‚ç‚¹æ‘˜è¦ä¿¡æ¯</li>
</ul>
<h3 id="4-1-åˆ›å»ºè´¦æˆ·"><a href="#4-1-åˆ›å»ºè´¦æˆ·" class="headerlink" title="4.1 åˆ›å»ºè´¦æˆ·"></a>4.1 åˆ›å»ºè´¦æˆ·</h3><p>è¾“å…¥ <code>eth.accounts</code> æŸ¥è¯¢ç³»ç»Ÿä¸­çš„è´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.accounts</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºä¸º <code>[]</code>ï¼Œè¡¨ç¤ºæ²¡æœ‰è´¦æˆ·ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ <code>personal.newAccount()</code> æ¥åˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; personal.newAccount()</span><br><span class="line">Passphrase: </span><br><span class="line">Repeat passphrase: </span><br><span class="line">&quot;0xb327a595dfbc769d73144c060b4f34c392021dad&quot;</span><br></pre></td></tr></table></figure>
<p><code>Passphrase</code> è¡¨ç¤ºè¾“å…¥å¯†ç ï¼Œ<code>Repeat passphrase</code> è¡¨ç¤ºè¾“å…¥ç¡®è®¤å¯†ç </p>
<p>å†æ¬¡åˆ›å»ºä¸€ä¸ªè´¦æˆ·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; personal.newAccount()</span><br><span class="line">Passphrase: </span><br><span class="line">Repeat passphrase: </span><br><span class="line">&quot;0xc881f183d0d8cb7c3393c29e826a25b43631f910&quot;</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.accounts</span><br><span class="line">[&quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;, &quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;]</span><br></pre></td></tr></table></figure>
<p>è´¦æˆ·é»˜è®¤ä¼šä¿å­˜åœ¨æ•°æ®ç›®å½•çš„ <code>data0/keystore</code> æ–‡ä»¶å¤¹ä¸­ã€‚å¯ä»¥æŸ¥çœ‹å…¶ä¸­çš„æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;address&quot;: &quot;fb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;, </span><br><span class="line">    &quot;crypto&quot;: &#123;</span><br><span class="line">        &quot;cipher&quot;: &quot;aes-128-ctr&quot;, </span><br><span class="line">        &quot;ciphertext&quot;: &quot;0efae4f94134172b785f1f635be8e70342bf31e1e0ecad21d672594f09ccf572&quot;, </span><br><span class="line">        &quot;cipherparams&quot;: &#123;</span><br><span class="line">            &quot;iv&quot;: &quot;37f4f3fa2cf070b70e3eb668fad6f46f&quot;</span><br><span class="line">        &#125;, </span><br><span class="line">        &quot;kdf&quot;: &quot;scrypt&quot;, </span><br><span class="line">        &quot;kdfparams&quot;: &#123;</span><br><span class="line">            &quot;dklen&quot;: 32, </span><br><span class="line">            &quot;n&quot;: 262144, </span><br><span class="line">            &quot;p&quot;: 1, </span><br><span class="line">            &quot;r&quot;: 8, </span><br><span class="line">            &quot;salt&quot;: &quot;1cdd1cf97fb882c3d3e734223668b47c888170e795346e11d0f521a71fe3aa2a&quot;</span><br><span class="line">        &#125;, </span><br><span class="line">        &quot;mac&quot;: &quot;902a29db25a3a35a2568b04b30a8194201f07ab37c96ed1fe9af932fc1d38be0&quot;</span><br><span class="line">    &#125;, </span><br><span class="line">    &quot;id&quot;: &quot;ecd5beb2-8261-4207-8eff-2fa34678d064&quot;, </span><br><span class="line">    &quot;version&quot;: 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-æŸ¥çœ‹è´¦æˆ·ä½™é¢"><a href="#4-2-æŸ¥çœ‹è´¦æˆ·ä½™é¢" class="headerlink" title="4.2 æŸ¥çœ‹è´¦æˆ·ä½™é¢"></a>4.2 æŸ¥çœ‹è´¦æˆ·ä½™é¢</h3><p>é€šè¿‡ <code>eth.getBalance()</code> å¯ä»¥æŸ¥çœ‹è´¦æˆ·ä½™é¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.getBalance(eth.accounts[0])</span><br><span class="line">0</span><br><span class="line">&gt; eth.getBalance(eth.accounts[1])</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>ç›®å‰ä¸¤ä¸ªè´¦æˆ·çš„ä»¥å¤ªå¸ä½™é¢éƒ½æ˜¯0ï¼Œè¦ä½¿è´¦æˆ·æœ‰ä½™é¢ï¼Œå¯ä»¥ä»å…¶ä»–è´¦æˆ·è½¬è´¦è¿‡æ¥ï¼Œæˆ–è€…é€šè¿‡æŒ–çŸ¿æ¥è·å¾—ä»¥å¤ªå¸å¥–åŠ±ã€‚</p>
<h3 id="4-3-å¯åŠ¨-amp-åœæ­¢æŒ–çŸ¿"><a href="#4-3-å¯åŠ¨-amp-åœæ­¢æŒ–çŸ¿" class="headerlink" title="4.3 å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿"></a>4.3 å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿</h3><p>é€šè¿‡ <code>miner.start()</code> å¯åŠ¨æŒ–çŸ¿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; miner.start(3)</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ start çš„å‚æ•°è¡¨ç¤ºæŒ–çŸ¿ä½¿ç”¨çš„çº¿ç¨‹æ•°ã€‚ç¬¬ä¸€æ¬¡å¯åŠ¨æŒ–çŸ¿ä¼šå…ˆç”ŸæˆæŒ–çŸ¿æ‰€éœ€çš„ DAG æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹æ…¢ï¼Œç­‰è¿›åº¦è¾¾åˆ° 100% åï¼Œå°±ä¼šå¼€å§‹æŒ–çŸ¿ï¼Œæ­¤æ—¶å±å¹•ä¼šè¢«æŒ–çŸ¿ä¿¡æ¯åˆ·å±ã€‚</p>
<p>åœæ­¢æŒ–çŸ¿ï¼Œåœ¨ console ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">miner.stop()</span><br></pre></td></tr></table></figure>
<p>æŒ–åˆ°ä¸€ä¸ªåŒºå—ä¼šå¥–åŠ±5ä¸ªä»¥å¤ªå¸ï¼ŒæŒ–çŸ¿æ‰€å¾—çš„å¥–åŠ±ä¼šè¿›å…¥çŸ¿å·¥çš„è´¦æˆ·ï¼Œè¿™ä¸ªè´¦æˆ·å«åšcoinbaseï¼Œé»˜è®¤æƒ…å†µä¸‹coinbaseæ˜¯æœ¬åœ°è´¦æˆ·ä¸­çš„ç¬¬ä¸€ä¸ªè´¦æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.coinbase</span><br><span class="line">&quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥é€šè¿‡ <code>miner.setEtherbase()</code> å°†å…¶ä»–è´¦æˆ·è®¾ç½®æˆ <code>coinbase</code> å³å¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; miner.setEtherbase(eth.accounts[1])</span><br><span class="line">true</span><br><span class="line">&gt; eth.coinbase</span><br><span class="line">&quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;</span><br></pre></td></tr></table></figure>
<p>é‡æ–°å¯åŠ¨æŒ–çŸ¿ï¼ŒæŸ¥çœ‹ <code>eth.accounts[1]</code> æ˜¯å¦å¯ä»¥è·å¾—ä»¥å¤ªå¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; miner.start(3)</span><br><span class="line"></span><br><span class="line">//ç­‰å¾…å‡ ç§’å</span><br><span class="line">&gt; miner.stop()</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢è´¦æˆ·ä½™é¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.getBalance(eth.accounts[0])</span><br><span class="line">280000000000000000000</span><br><span class="line">&gt; eth.getBalance(eth.accounts[1])</span><br><span class="line">210000000000000000000</span><br></pre></td></tr></table></figure>
<p>å‘ç°è´¦æˆ·0 å’Œ è´¦å·1 éƒ½æœ‰ä»¥å¤ªå¸ï¼Œè¯´æ˜ <code>miner.setEtherbase()</code> è®¾ç½®æˆåŠŸã€‚</p>
<p><code>getBalance()</code> è¿”å›å€¼çš„å•ä½æ˜¯weiï¼Œweiæ˜¯ä»¥å¤ªå¸çš„æœ€å°å•ä½ï¼Œ1ä¸ªä»¥å¤ªå¸=10çš„18æ¬¡æ–¹ä¸ªweiã€‚è¦æŸ¥çœ‹æœ‰å¤šå°‘ä¸ªä»¥å¤ªå¸ï¼Œå¯ä»¥ç”¨web3.fromWei()å°†è¿”å›å€¼æ¢ç®—æˆä»¥å¤ªå¸ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; web3.fromWei(eth.getBalance(eth.accounts[0]),&apos;ether&apos;)</span><br><span class="line">280</span><br><span class="line"></span><br><span class="line">&gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&apos;ether&apos;)</span><br><span class="line">210</span><br></pre></td></tr></table></figure>
<h3 id="4-4-å‘é€äº¤æ˜“"><a href="#4-4-å‘é€äº¤æ˜“" class="headerlink" title="4.4 å‘é€äº¤æ˜“"></a>4.4 å‘é€äº¤æ˜“</h3><p>æˆ‘ä»¬ä»è´¦æˆ·0è½¬ç§»10ä¸ªä»¥å¤ªå¸åˆ°è´¦æˆ·1,é¦–å…ˆè¦è§£é”è´¦æˆ· 0ï¼Œæ‰èƒ½å‘èµ·äº¤æ˜“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; personal.unlockAccount(eth.accounts[0])</span><br><span class="line">Unlock account 0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d</span><br><span class="line">Passphrase: </span><br><span class="line">true</span><br></pre></td></tr></table></figure>
<p>å‘èµ·äº¤æ˜“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; amount = web3.toWei(10,&apos;ether&apos;)</span><br><span class="line">&quot;10000000000000000000&quot;</span><br><span class="line">&gt; eth.sendTransaction(&#123;from:eth.accounts[0],to:eth.accounts[1],value:amount&#125;)</span><br><span class="line">INFO [05-29|22:37:32] Submitted transaction                    fullhash=0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2 recipient=0xc6b5702B15a3794374e28f41F36e1E8dBDd564DF</span><br><span class="line">&quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢ è´¦æˆ·1 çš„ä½™é¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&apos;ether&apos;)</span><br><span class="line">210</span><br></pre></td></tr></table></figure>
<p>å‘ç°è´¦æˆ·ä½™é¢æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œæ­¤æ—¶äº¤æ˜“å·²ç»æäº¤åˆ°åŒºå—é“¾ï¼Œä½†è¿˜æœªè¢«å¤„ç†ï¼Œè¿™å¯ä»¥é€šè¿‡ç”¨ <code>txpool.status</code> å‘½ä»¤å¯ä»¥çœ‹åˆ°æœ¬åœ°äº¤æ˜“æ± ä¸­æœ‰ä¸€ä¸ªå¾…ç¡®è®¤çš„äº¤æ˜“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; txpool.status</span><br><span class="line">&#123;</span><br><span class="line">  pending: 1,</span><br><span class="line">  queued: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æœ‰ä¸€æ¡pendingçš„äº¤æ˜“ï¼Œpendingè¡¨ç¤ºå·²æäº¤ä½†è¿˜æœªè¢«å¤„ç†çš„äº¤æ˜“ã€‚</p>
<p>è¦ä½¿äº¤æ˜“è¢«å¤„ç†ï¼Œå¿…é¡»è¦æŒ–çŸ¿ã€‚è¿™é‡Œæˆ‘ä»¬å¯åŠ¨æŒ–çŸ¿ï¼Œç„¶åç­‰å¾…æŒ–åˆ°ä¸€ä¸ªåŒºå—ä¹‹åå°±åœæ­¢æŒ–çŸ¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;miner.start(1);admin.sleepBlocks(1);miner.stop()</span><br><span class="line">&gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&apos;ether&apos;)</span><br><span class="line">225.000378</span><br></pre></td></tr></table></figure>
<p>å‘ç°è´¦æˆ·æ”¶åˆ°äº†è´¦æˆ·çš„é’±ï¼Œè¿˜å¤šäº†5ä¸ªä»¥å¤ªå¸ã€‚å…¶å®å¤šå‡ºçš„5ä¸ªä»¥å¤ªå¸æ˜¯æŒ–çŸ¿å¥–åŠ±ã€‚</p>
<h3 id="4-5-æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—"><a href="#4-5-æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—" class="headerlink" title="4.5 æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—"></a>4.5 æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—</h3><p>æŸ¥çœ‹å½“å‰åŒºå—æ€»æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.blockNumber</span><br><span class="line">99</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡åŒºå—å·æŸ¥çœ‹åŒºå—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt; eth.getBlock(6)</span><br><span class="line">&#123;</span><br><span class="line">  difficulty: 131328,</span><br><span class="line">  extraData: &quot;0xd98301080a846765746888676f312e31302e328664617277696e&quot;,</span><br><span class="line">  gasLimit: 3160033,</span><br><span class="line">  gasUsed: 0,</span><br><span class="line">  hash: &quot;0x9679d0dc01045c3d15cbf29241ae1cd6de2e5661d3387c0980f6397e3fd9ed2c&quot;,</span><br><span class="line">  logsBloom: &quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;,</span><br><span class="line">  miner: &quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;,</span><br><span class="line">  mixHash: &quot;0x05c369134eac2cb6227860b4ed11527b11825af3541712c5704914576c37c0a0&quot;,</span><br><span class="line">  nonce: &quot;0x00168a9831624417&quot;,</span><br><span class="line">  number: 6,</span><br><span class="line">  parentHash: &quot;0xad68f0a581cf2144b8a05190b6310c7a9d945d9c338fd16b4708651b8813ad8b&quot;,</span><br><span class="line">  receiptsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;,</span><br><span class="line">  sha3Uncles: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,</span><br><span class="line">  size: 537,</span><br><span class="line">  stateRoot: &quot;0xfaa0a4ffe160a2937b967f9780ae0de51a465bcce6a3f6f3aa24b903df3d44a0&quot;,</span><br><span class="line">  timestamp: 1527602736,</span><br><span class="line">  totalDifficulty: 918144,</span><br><span class="line">  transactions: [],</span><br><span class="line">  transactionsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;,</span><br><span class="line">  uncles: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡äº¤æ˜“hashï¼ˆhash å€¼åŒ…å«åœ¨ä¸Šé¢äº¤æ˜“è¿”å›å€¼ä¸­ï¼‰æŸ¥çœ‹äº¤æ˜“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">eth.getTransaction(&quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;)</span><br><span class="line">&#123;</span><br><span class="line">  blockHash: &quot;0xbe60f7ccddcb7cab39a7b932c0d89d37ac13ae14521cfdcb8ac359a5b6773655&quot;,</span><br><span class="line">  blockNumber: 99,</span><br><span class="line">  from: &quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;,</span><br><span class="line">  gas: 90000,</span><br><span class="line">  gasPrice: 18000000000,</span><br><span class="line">  hash: &quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;,</span><br><span class="line">  input: &quot;0x&quot;,</span><br><span class="line">  nonce: 0,</span><br><span class="line">  r: &quot;0x8da41e865d399fc4d8f813a39116e486db7658a04ea1f89ca0b7f44c02dd3c57&quot;,</span><br><span class="line">  s: &quot;0x15edd22404460cfc5e86c9735774a02aad024bc8c369ec531e4485f1012cbcf6&quot;,</span><br><span class="line">  to: &quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;,</span><br><span class="line">  transactionIndex: 0,</span><br><span class="line">  v: &quot;0x37&quot;,</span><br><span class="line">  value: 10000000000000000000</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-6-å°ç»“"><a href="#4-6-å°ç»“" class="headerlink" title="4.6 å°ç»“"></a>4.6 å°ç»“</h3><p>â€‹    å¦‚æœå¸Œæœ›æŸä¸ªèŠ‚ç‚¹ä¸Šçš„æ•°æ®è¦å†™å…¥åˆ°åŒºå—ï¼Œå¹¶ä¸”åŒæ­¥åˆ°ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼Œå¿…é¡»è¦å¯åŠ¨æŒ–çŸ¿ï¼ŒæŒ–çŸ¿å°±æ˜¯ä¸€ä¸ªåŒºå—æ‰“åŒ…å’Œä¼ æ’­åŒæ­¥çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿåªæœ‰å¯åŠ¨æŒ–çŸ¿ï¼Œæ‰èƒ½è®©ç§æœ‰é“¾ä¸­çš„ä¸»å¸å·å¾—ä»¥å¤ªå¸ï¼Œè¿›è€Œå¯ä»¥ç”¨æ¥ç»§ç»­æµ‹è¯•è½¬è´¦äº¤æ˜“ã€åˆçº¦éƒ¨ç½²ã€åˆçº¦è°ƒç”¨ç­‰åŠŸèƒ½ã€‚</p>
<p>è¿™ç§é…ç½®ç§æœ‰é“¾çš„æ–¹å¼è¿˜æ˜¯æœ‰äº›éº»çƒ¦ã€‚å¯¹äºæƒ³å¿«é€Ÿæ–¹ä¾¿è¿›è¡Œæµ‹è¯•ä½¿ç”¨ä»¥åŠåªèƒ½åˆçº¦å¼€å‘çš„è¯»è€…ï¼Œè¿˜æœ‰ä¸€ç§é…ç½®ç§æœ‰é“¾çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨TestRPCä¸Truffleç»„åˆã€‚<strong>TestRPCæ˜¯åœ¨æœ¬åœ°ä½¿ç”¨å†…å­˜æ¨¡æ‹Ÿçš„ä¸€ä¸ªä»¥å¤ªåŠç¯å¢ƒï¼Œå¯ä»¥ç”¨äºæ­å»ºæµ‹è¯•ç¯å¢ƒï¼ŒåŸºäºNode.jså¼€å‘ï¼Œ</strong>å› æ­¤ä½¿ç”¨TestRPCé¦–å…ˆè¦å®‰è£…Node.jsç¯å¢ƒå¹¶ä¸”ç‰ˆæœ¬è¦å¤§äº6.9.1ã€‚<strong>Truffleæ˜¯é’ˆå¯¹ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦åº”ç”¨çš„ä¸€å¥—å¼€å‘æ¡†æ¶</strong>ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹å…·ä½“å¦‚ä½•æ­å»ºã€‚</p>
<h2 id="5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦"><a href="#5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦" class="headerlink" title="5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦"></a>5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦</h2><h3 id="5-1-æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º"><a href="#5-1-æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º" class="headerlink" title="5.1 æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º"></a>5.1 æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º</h3><p>1ï¼‰ä½¿ç”¨<code>npm</code>å®‰è£…<code>TestRPC</code>ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>æ³¨æ„ï¼š<code>testrpc</code>å·²æ”¹åä¸ºganache-cliï¼Œæœ¬æ–‡ä»¥testrpcä¸ºä¾‹ï¼Œå®é™…ä¸Šä¸¤è€…åŒæ ·ä¸œè¥¿çš„ä¸åŒå«æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g ethereumjs-testrpc</span><br></pre></td></tr></table></figure>
<p>2ï¼‰æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testrpc -version</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ testrpc -version</span><br><span class="line">EthereumJS TestRPC v6.0.3 (ganache-core: 2.0.2)</span><br><span class="line"></span><br><span class="line">Available Accounts</span><br><span class="line">==================</span><br><span class="line">(0) 0x6f41fffc0338e715e8aac4851afc4079b712af70 ğŸ”’</span><br><span class="line">(1) 0xad8926fdb14c2ca283ab1e8a05c0b6707bc03f97 ğŸ”’</span><br><span class="line">(2) 0x1cb0ff92ec067169fd6b1b12c6d39a4f6c2cf6f9 ğŸ”’</span><br><span class="line">(3) 0x594b70524993798cb093ca8a2bd7f02f904b66d3 ğŸ”’</span><br><span class="line">(4) 0x2f1ee0930f00b0f3cdab66d916cbd1fa4fe9535a ğŸ”’</span><br><span class="line">(5) 0x5513a551c5aafaa8719a0df5bf398d4b3af4e211 ğŸ”’</span><br><span class="line">(6) 0xa1bf121993c23cc467eec8b7e453011dae250404 ğŸ”’</span><br><span class="line">(7) 0xe0b161979ebca95235c4cfeddfd11fb30d782a4d ğŸ”’</span><br><span class="line">(8) 0x093b30604ac41e054e71b670d8e3ab68360017c9 ğŸ”’</span><br><span class="line">(9) 0x1cac60d851a44305d7dd6ecf8ff32f3403427d3d ğŸ”’</span><br><span class="line"></span><br><span class="line">Private Keys</span><br><span class="line">==================</span><br><span class="line">(0) db3ecbc77961edb030858411850bd1ed12915dcf3c13762ec3692989810c2870</span><br><span class="line">(1) e0cc6b69516123fdf5d739dc9109ab486cf385affba555f0f03a7c74d7c1a88f</span><br><span class="line">(2) cea171049aa817c8ecade84ed8d20ce9e2312bed6e0f39548c9673a65bd47a47</span><br><span class="line">(3) e7f5cbba7403d0c5ea421f6ce64165b79d5c13594ad4a0ffa27896b498d6f5ad</span><br><span class="line">(4) 6d1cd1fa965caf8a0b073faff072732de0eb0a8c153cc355f89eedb49c12ed12</span><br><span class="line">(5) c535a490deefd452daab45b01daaf34366d6748afa5f0778aac5dae6c590c135</span><br><span class="line">(6) 1292992fba6774016899237b8eb217108c5f9021e0e334aa5fad3db62e5c406b</span><br><span class="line">(7) 03d02b40ab919c9d51e26fdc2e70c221d65ec1970f1283acad8b3445c5771f56</span><br><span class="line">(8) 018069b07dc4d177a612ef0e20f63b9962781ab2d57d2ad50d9361a9be804bc4</span><br><span class="line">(9) cd348e9ee0bc2cfbda9b9822d42b3dd3b83d180425bc153ffbc7e7e5bf13fa28</span><br><span class="line"></span><br><span class="line">HD Wallet</span><br><span class="line">==================</span><br><span class="line">Mnemonic:      say slight close trip refuse seven marble fun edge galaxy cash pioneer</span><br><span class="line">Base HD Path:  m/44&apos;/60&apos;/0&apos;/0/&#123;account_index&#125;</span><br><span class="line"></span><br><span class="line">Listening on localhost:8545</span><br></pre></td></tr></table></figure>
<p>3ï¼‰è¾“å‡ºä¿¡æ¯ï¼ˆå¦‚ä¸Šï¼‰</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤å°±è‡ªåŠ¨é…ç½®äº†10ä¸ªè´¦æˆ·åœ°å€ã€‚æ³¨æ„ï¼Œä»¥ä¸Šä¿¡æ¯æ˜¯åŠ¨æ€çš„ï¼Œæ¯æ¬¡å¯åŠ¨æ˜¯éšæœºç”Ÿæˆï¼Œä¸æ˜¯å›ºå®šçš„ã€‚é€šè¿‡æœ€åä¸€è¡Œæ•°æ®çš„æç¤ºï¼Œè¡¨æ˜TestTPCå¯åŠ¨åä½¿ç”¨8545ç«¯å£ç›‘å¬ã€‚</p>
<p>4ï¼‰ä½¿ç”¨npmå®‰è£…Truffleï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g truffle</span><br></pre></td></tr></table></figure>
<p>5ï¼‰å®‰è£…æˆåŠŸåï¼Œè¾“å…¥truffleâ€“versionï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ truffle --version</span><br><span class="line">Truffle v4<span class="number">.1</span><span class="number">.11</span> - a development framework <span class="keyword">for</span> Ethereum</span><br><span class="line"></span><br><span class="line">Usage: truffle &lt;command&gt; [options]</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  init      Initialize <span class="keyword">new</span> and empty Ethereum project</span><br><span class="line">  compile   Compile contract source files</span><br><span class="line">  migrate   Run migrations to deploy contracts</span><br><span class="line">  deploy    (alias <span class="keyword">for</span> migrate)</span><br><span class="line">  build     Execute build pipeline (<span class="keyword">if</span> configuration present)</span><br><span class="line">  test      Run JavaScript and Solidity tests</span><br><span class="line">  debug     Interactively debug any transaction on the blockchain (experimental)</span><br><span class="line">  opcode    Print the compiled opcodes <span class="keyword">for</span> a given contract</span><br><span class="line">  <span class="built_in">console</span>   Run a <span class="built_in">console</span> <span class="keyword">with</span> contract abstractions and commands available</span><br><span class="line">  develop   Open a <span class="built_in">console</span> <span class="keyword">with</span> a local development blockchain</span><br><span class="line">  create    Helper to create <span class="keyword">new</span> contracts, migrations and tests</span><br><span class="line">  install   Install a package <span class="keyword">from</span> the Ethereum Package Registry</span><br><span class="line">  publish   Publish a package to the Ethereum Package Registry</span><br><span class="line">  networks  Show addresses <span class="keyword">for</span> deployed contracts on each network</span><br><span class="line">  watch     Watch filesystem <span class="keyword">for</span> changes and rebuild the project automatically</span><br><span class="line">  serve     Serve the build directory on localhost and watch <span class="keyword">for</span> changes</span><br><span class="line">  exec      Execute a JS <span class="built_in">module</span> within <span class="keyword">this</span> Truffle environment</span><br><span class="line">  unbox     Download a Truffle Box, a pre-built Truffle project</span><br><span class="line">  version   Show version number and exit</span><br><span class="line"></span><br><span class="line">See more at http:<span class="comment">//truffleframework.com/docs</span></span><br></pre></td></tr></table></figure>
<p>6ï¼‰å®‰è£…solcï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g solc</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå®‰è£…åçš„å‘½ä»¤æ˜¯solcjsï¼Œè¿™æ˜¯ç”¨æ¥ç¼–è¯‘æ™ºèƒ½åˆçº¦ä»£ç çš„ã€‚</p>
<p>7ï¼‰è¿è¡Œæµ‹è¯•</p>
<p>â€‹    é¦–å…ˆè¿è¡ŒTestRPCï¼Œåœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥é€šè¿‡testrpcå‘½ä»¤å¯ä»¥å¯åŠ¨ï¼Œæ¥ç€å¼€å§‹åˆå§‹åŒ–Truffleç›®å½•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir mytruffle &amp;&amp; cd mytruffle</span><br><span class="line">truffle init</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤å…¶å®å°±æ˜¯ä¸‹è½½ä¸€ä¸ªé¡¹ç›®æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ç½‘å€<a href="https://github.com/trufflesuite/truffle-init-webpackä¸‹è½½åè§£å‹ç¼©ï¼Œå¤åˆ¶åˆ°ç›¸åº”ç›®å½•æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚" target="_blank" rel="noopener">https://github.com/trufflesuite/truffle-init-webpackä¸‹è½½åè§£å‹ç¼©ï¼Œå¤åˆ¶åˆ°ç›¸åº”ç›®å½•æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</a></p>
<p>æˆ–è€…æŒ‰ç…§ä¸Šè¿°ç½‘å€çš„readme.mdæ“ä½œä¹Ÿå¯ä»¥ã€‚</p>
<p>åˆå§‹åŒ–å®Œæˆåï¼ŒTruffleboxé¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/Truffle%20box%E7%9B%AE%E5%BD%95.png" alt=""></p>
<p>å…¶ä¸­ï¼Œcontractsä¸­å­˜æ”¾çš„æ˜¯åˆçº¦ï¼Œtruffle compileçš„æ—¶å€™å°±ä¼šåœ¨è¿™é‡Œé¢å¯»æ‰¾åˆçº¦æ–‡ä»¶ï¼Œmigrationsç›®å½•é‡Œé¢å­˜æ”¾çš„JSæ–‡ä»¶ï¼Œå®ƒå¸®åŠ©éƒ¨ç½²åˆçº¦åˆ°ä»¥å¤ªåŠç½‘ç»œä¸­ï¼Œä»–ä»¬è¡¨ç¤ºäº†è¿›è¡Œéƒ¨ç½²ä»»åŠ¡çš„æ­¥éª¤ï¼Œtruffle.jsæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Allows us to use ES6 in our migrations and tests.</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'babel-register'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  networks: &#123;</span><br><span class="line">    development: &#123;</span><br><span class="line">      host: <span class="string">'127.0.0.1'</span>, <span class="comment">//èŠ‚ç‚¹åœ°å€ï¼Œå¦‚æœç§æœ‰é“¾ä¸€èˆ¬æ˜¯æœ¬æœº</span></span><br><span class="line">      port: <span class="number">7545</span>,  <span class="comment">//èŠ‚ç‚¹rpcç«¯å£</span></span><br><span class="line">      network_id: <span class="string">'*'</span> <span class="comment">// è‡ªå®šä¹‰ç½‘ç»œå·</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤çš„é…ç½®ä¸testrpcçš„å‚æ•°æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ã€‚</p>
<p>8ï¼‰å¯åŠ¨äº†testrpcï¼Œä¹Ÿåˆå§‹åŒ–äº†truffleï¼Œç°åœ¨å¼€å§‹è¯•ç€ç¼–å†™æ™ºèƒ½åˆçº¦ã€‚å¯ä»¥çœ‹åˆ°åœ¨contractsä¸­å·²ç»æœ‰å‡ ä¸ªç¤ºä¾‹åˆçº¦äº†ï¼Œåˆ›å»ºä¸€ä¸ªGreeter.solï¼Œæºç å¦‚ä¸‹ï¼šå¯ä»¥åˆ°è¿™ä¸ªç½‘ç«™ï¼Œæœ‰å¾ˆå¤šçš„ <a href="https://github.com/fivedogit/solidity-baby-steps/tree/master/contracts" target="_blank" rel="noopener">contracts demo</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.17</span>; <span class="comment">// æŒ‡å®š solidity ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">contract Greeter         <span class="comment">// The contract definition. A constructor of the same name will be automatically called on contract creation. </span></span><br><span class="line">&#123;</span><br><span class="line">    address creator;     <span class="comment">// At first, an empty "address"-type variable of the name "creator". Will be set in the constructor.</span></span><br><span class="line">    string greeting;     <span class="comment">// At first, an empty "string"-type variable of the name "greeting". Will be set in constructor and can be changed.</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">//constructor(string _greeting)&#123;</span></span><br><span class="line">     <span class="comment">//   creator = msg.sender;</span></span><br><span class="line">        <span class="comment">//greeting = _greeting;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">Greetor</span>(<span class="params">string _greeting</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">        creator = msg.sender;</span><br><span class="line">        greeting = _greeting;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// åªè¯»å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params"></span>) <span class="title">constant</span> <span class="title">public</span> <span class="title">returns</span> (<span class="params">string</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> greeting;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getBlockNumber</span>(<span class="params"></span>) <span class="title">constant</span> <span class="title">public</span> <span class="title">returns</span> (<span class="params">uint</span>) </span>&#123; <span class="comment">// this doesn't have anything to do with the act of greeting                                                  // just demonstrating return of some global variable</span></span><br><span class="line">        <span class="keyword">return</span> block.number;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éåªè¯»å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setGreeting</span>(<span class="params">string _newgreeting</span>) <span class="title">public</span> </span>&#123;</span><br><span class="line">        greeting = _newgreeting;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è‡ªæ¯å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">kill</span>(<span class="params"></span>) <span class="title">public</span> </span>&#123; </span><br><span class="line">        <span class="keyword">if</span> (msg.sender == creator)  <span class="comment">// only allow this action if the account sending the signal is the creator</span></span><br><span class="line">            selfdestruct(creator);       <span class="comment">// kills this contract and sends remaining funds back to creator</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>9ï¼‰åœ¨mytruffleç›®å½•ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo truffle compile</span><br></pre></td></tr></table></figure>
<p>10ï¼‰ç¼–è¯‘å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œåˆ™ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ truffle compile</span><br><span class="line">Compiling .\contracts\Greeter.sol...</span><br><span class="line">Writing artifacts to .\build\contracts</span><br></pre></td></tr></table></figure>
<p>11ï¼‰çœ‹åˆ°ç”Ÿäº†ä¸€ä¸ªbuildç›®å½•ï¼Œç¼–è¯‘æ²¡æœ‰é—®é¢˜å°±å¯ä»¥éƒ¨ç½²äº†ï¼Œè¿›å…¥åˆ°migrationsç›®å½•ï¼Œç¼–è¾‘<code>2_deploy_contracts.js</code>ï¼Œåœ¨æœ€åä¸€è¡Œæ’å…¥â€œdeployer.deployâ€(åˆçº¦å)ï¼Œç¼–è¾‘å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ConvertLib = artifacts.require(<span class="string">"./ConvertLib.sol"</span>);</span><br><span class="line"><span class="keyword">var</span> MetaCoin = artifacts.require(<span class="string">"./MetaCoin.sol"</span>);</span><br><span class="line"><span class="keyword">var</span> Greeter = artifacts.require(<span class="string">"./Greeter.sol"</span>);<span class="comment">//æ–°å¢</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">deployer</span>) </span>&#123;</span><br><span class="line">  deployer.deploy(ConvertLib);</span><br><span class="line">  deployer.link(ConvertLib, MetaCoin);</span><br><span class="line">  deployer.deploy(MetaCoin);</span><br><span class="line">  deployer.deploy(Greeter); <span class="comment">//æ–°å¢</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>12ï¼‰ç¼–è¾‘ä¿å­˜åæ‰§è¡Œéƒ¨ç½²å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truffle migrate --reset //å¦‚æœæŠ¥é”™å°±æ£€æŸ¥ä¸‹truffle.jsä¸­é…ç½®çš„rpc portå’Œå®é™…è¿è¡Œä¸­çš„portæ˜¯å¦ä¸€è‡´</span><br></pre></td></tr></table></figure>
<p>Greeteråˆçº¦éƒ¨ç½²å®Œæˆï¼Œæˆ‘çš„Greeterçš„åœ°å€ä¸º: 0xc2787552e7a9f3796b147dfa22cad41a7e58fb0bï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€ä¸åˆçº¦è¿›è¡Œäº¤äº’ã€‚</p>
<p>13ï¼‰æ³¨æ„ï¼Œåœ¨æ“ä½œè¿‡ç¨‹ä¸­ä¸€ä¸ªè¦ä¿è¯<code>TestRPC</code>æ˜¯å¼€å¯çš„ï¼Œå‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œåœ¨<code>TestRPC</code>ä¸­å¯ä»¥çœ‹åˆ°å“åº”ï¼Œæ¥ä¸‹æ¥è°ƒç”¨ä¸€ä¸‹åˆçº¦ä¸­çš„æ–¹æ³•ï¼Œè¦è°ƒç”¨åˆçº¦çš„åŠŸèƒ½ï¼Œå¾—ä¸<code>TestRPC</code>æ¨¡æ‹ŸèŠ‚ç‚¹äº¤äº’ï¼Œé¦–å…ˆè¿›å…¥åˆ°æ§åˆ¶å°ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truffle console</span><br></pre></td></tr></table></figure>
<p>14ï¼‰è¿›å…¥åˆ°æ§åˆ¶å°åï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼šï¼ˆä¸åˆçº¦è¿›è¡Œäº¤äº’ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ truffle console</span><br><span class="line">truffle(development)&gt; var greeter = Greeter.at(Greeter.address)</span><br><span class="line">undefined</span><br><span class="line">truffle(development)&gt; greeter.address</span><br><span class="line">&apos;0x9d8bf4bab5bee3fcb857ffde0f819205e9813d6b&apos;</span><br><span class="line">truffle(development)&gt; greeter.greet()</span><br><span class="line">&apos;&apos;</span><br><span class="line">truffle(development)&gt; greeter.setGreeting(&quot;Hello World&quot;)</span><br><span class="line">&#123; tx: &apos;0xea98c0886e78f237d2aaadaf58db7ffce62b8023abfbf9172f8436119d7e75f4&apos;,</span><br><span class="line">  receipt:</span><br><span class="line">   &#123; transactionHash: &apos;0xea98c0886e78f237d2aaadaf58db7ffce62b8023abfbf9172f8436119d7e75f4&apos;,</span><br><span class="line">     transactionIndex: 0,</span><br><span class="line">     blockHash: &apos;0xaf3ee548e04898d6490d8072a7d7db8692f27750eb705052fa731460939d1d06&apos;,</span><br><span class="line">     blockNumber: 24,</span><br><span class="line">     gasUsed: 43439,</span><br><span class="line">     cumulativeGasUsed: 43439,</span><br><span class="line">     ...</span><br><span class="line">  logs: [] &#125;</span><br><span class="line">truffle(development)&gt; greeter.greet()</span><br><span class="line">&apos;Hello World&apos;</span><br></pre></td></tr></table></figure>
<p>åˆçº¦ä»¥åŠåˆ›å»ºæˆåŠŸï¼Œç°åœ¨éƒ¨ç½²åˆ°ç§æœ‰é“¾ã€‚</p>
<h3 id="5-2-å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾"><a href="#5-2-å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾" class="headerlink" title="5.2 å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾"></a>5.2 å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾</h3><p>é€€å‡ºganache-cliï¼Œè¿è¡Œ<code>geth --datadir data0 --networkid 110 --rpc console --port 30304 --rpcport 8546</code></p>
<p>1ã€éƒ¨ç½²</p>
<p>å…ˆè§£é”è´¦æˆ·ï¼ˆä¹‹å‰åšè¿‡ï¼‰ï¼Œç„¶åå¿…é¡»å…ˆå¼€å¯æŒ–çŸ¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; miner.start()</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢åˆ°ä¹‹å‰åˆ›å»ºçš„ç§é“¾ç¯å¢ƒï¼Œåœ¨å¦ä¸€ä¸ªçª—å£ä¸­è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truffle migrate --reset</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°ä»¥ä¸‹ç±»ä¼¼ä¿¡æ¯å£°æ˜ä»¥åŠæˆåŠŸéƒ¨ç½²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ truffle migrate --reset</span><br><span class="line">Using network &apos;development&apos;.</span><br><span class="line">...</span><br><span class="line">  Replacing Greeter...</span><br><span class="line">  ... 0xfed35089e364676ed1ceca88f248b2d8cba147b281e1b4566d93947bc66f3c1d</span><br><span class="line">  Greeter: 0xd672f94aac6eea9e6a12bc41267b878562c29dc5 //åˆçº¦åœ°å€</span><br><span class="line">Saving successful migration to network...</span><br><span class="line">  ... 0xa2cc625d5ff6016d4011f6c6d1638e61e36e4317e9669515fe2f901107ada30f</span><br><span class="line">Saving artifacts...</span><br></pre></td></tr></table></figure>
<p>2ã€æŸ¥çœ‹</p>
<p>åœ¨ç§æœ‰é“¾ä¸­æŸ¥çœ‹åˆçº¦:</p>
<p>æ‹·è´ <code>truffle compile</code> ç¼–è¯‘åçš„<code>build/contracts/Greeter.json</code>æ–‡ä»¶ä¸­çš„abiä¸²ï¼Œç„¶ååœ¨ geth console çª—å£ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var abi = JSON.parse(&apos;[&#123;&quot;constant&quot;: false, &quot;inputs&quot;: [&#123;&quot;name&quot;:&quot;_greeting,&quot;type&quot;:&quot;string&quot;&#125;], &quot;name&quot;: &quot;Greeter&quot;, &quot;outputs&quot;: [], &quot;payable&quot;: false, &quot;stateMutability&quot;: &quot;nonpayable&quot;, &quot;type&quot;: &quot;function&quot;&#125;]&apos;)</span><br><span class="line">var greeter = eth.contract(abi).at(&apos;0xd672f94aac6eea9e6a12bc41267b878562c29dc5&apos;)  # ä¿®æ”¹æˆä½ çš„ Greeter åˆçº¦åœ°å€</span><br><span class="line">&gt; greeter.greet()</span><br><span class="line">&gt; greeter.setGreeting.sendTransaction(&apos;Hello World&apos;,&#123;from:eth.accounts[0],gas:200000&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="5-3-é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦"><a href="#5-3-é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦" class="headerlink" title="5.3 é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦"></a>5.3 é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦</h3><p>é€šè¿‡ä»¥å¤ªåŠé’±ä¹Ÿå¯ä»¥ç®¡ç†åˆçº¦ï¼Œæ›´ç®€å•ç›´è§‚ã€‚</p>
<p><code>PRIVATE-NET</code> è¡¨æ˜è¿æ¥çš„æ˜¯ç§æœ‰é“¾ã€‚ç‚¹å‡»å³ä¸Šè§’çš„åˆçº¦ <code>CONTRACES</code>, ç‚¹å‡»WATCH CONTRACTï¼Œæ·»åŠ æˆ‘ä»¬åˆšåˆ›å»ºçš„åˆçº¦ã€‚</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%85.png" alt=""></p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/eth%20wallet%E6%9F%A5%E7%9C%8B%E5%90%88%E7%BA%A6.png" alt=""></p>
<p>ç¬¬ä¸€è¡Œå¡«å…¥åˆçº¦åœ°å€ï¼Œç¬¬äºŒè¡Œç»™åˆçº¦èµ·ä¸ªåå­—ï¼Œç¬¬ä¸‰ä¸ªå¡«å…¥åˆçº¦çš„ABIä¸²ï¼Œå³åˆçº¦ç¼–è¯‘<code>truffle compile</code>åçš„ build/contracts/Greeter.json æ–‡ä»¶ä¸­ abi çš„å€¼ã€‚</p>
<p>æ·»åŠ ä¹‹åï¼Œå°±å¯ä»¥åœ¨åˆçº¦ç•Œé¢çœ‹åˆ°åˆšæ·»åŠ çš„åˆçº¦ï¼š</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%852.png" alt=""></p>
<p>ç‚¹å‡» Greeterï¼Œè¿›å…¥åˆçº¦è¯¦æƒ…é¡µï¼Œåœ¨è¿™é‡Œå¯ä»¥æ‰§è¡Œåˆçº¦ã€‚</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%853.png" alt=""></p>
<p>é€‰æ‹©è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œè¾“å…¥å­—ç¬¦ä¸²ï¼Œç‚¹å‡» <code>EXECUTE</code>ã€‚ç¡®ä¿ç§æœ‰é“¾ä¸­æŒ–çŸ¿åœ¨è¿›è¡Œï¼Œæäº¤æˆåŠŸä¹‹åï¼Œç•Œé¢çš„Greetå­—ç¬¦ä¸²ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæ–°èµ‹äºˆçš„å€¼ã€‚</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%854.png" alt=""></p>
<p>Greet å€¼å·²æ”¹å˜ã€‚</p>
<p><img src="http://p8azvgsnq.bkt.clouddn.com/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E9%92%B1%E5%8C%855.png" alt=""></p>
<p>åœ¨ä¸»ç•Œé¢å¯æŸ¥çœ‹æ‰€æœ‰çš„äº¤æ˜“ï¼Œç‚¹å‡»å·¦ä¸Šè§’ <code>WALLETS</code>ï¼Œæœ€ä¸‹é¢æœ‰æœ€è¿‘çš„äº¤æ˜“åˆ—è¡¨ã€‚</p>
<p>è‡³æ­¤ï¼Œä»¥å¤ªåŠç§æœ‰é“¾ç¯å¢ƒå·²æ­å»ºå®Œæˆï¼Œåˆçº¦ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚å…³äºæ€ä¹ˆç¼–å†™åˆçº¦ï¼Œç§»æ­¥ <a href="https://link.jianshu.com/?t=http%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Flatest%2Fintroduction-to-smart-contracts.html" target="_blank" rel="noopener">solidityæ–‡æ¡£</a>ã€‚</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ä»¥å¤ªåŠ/">ä»¥å¤ªåŠ</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ä»¥å¤ªåŠåº”ç”¨-ç§é“¾/">ä»¥å¤ªåŠåº”ç”¨,ç§é“¾</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yoursite.com/2018/04/29/ä»¥å¤ªåŠç§é“¾æ­å»ºåŠæ™ºèƒ½åˆçº¦éƒ¨ç½²/" data-title="ä»¥å¤ªåŠå®æˆ˜-1ï¼šæ­å»ºç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦ | Bolen`s Blog" data-tsina="zliyong007" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2018/04/19/MySQLä¹‹è·¯-2-æŸ¥è¯¢/"  title="MySQLç¬”è®°[2]-æŸ¥è¯¢">
 <strong>ä¸‹ä¸€ç¯‡ï¼š</strong><br/> 
 <span>MySQLç¬”è®°[2]-æŸ¥è¯¢
</span>
</a>
</div>

</nav>

	



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦"><span class="toc-text">æ­å»ºä»¥å¤ªåŠç§é“¾å¹¶éƒ¨ç½²æ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1ã€ä¸‹è½½"><span class="toc-text">1ã€ä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2ã€ç¼–è¯‘"><span class="toc-text">2ã€ç¼–è¯‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3ã€æ­å»ºç§æœ‰é“¾"><span class="toc-text">3ã€æ­å»ºç§æœ‰é“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-é…ç½®åˆå§‹çŠ¶æ€"><span class="toc-text">3.1 é…ç½®åˆå§‹çŠ¶æ€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—"><span class="toc-text">3.2 åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹"><span class="toc-text">3.3 å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4ã€æ§åˆ¶å°æ“ä½œ"><span class="toc-text">4ã€æ§åˆ¶å°æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-åˆ›å»ºè´¦æˆ·"><span class="toc-text">4.1 åˆ›å»ºè´¦æˆ·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-æŸ¥çœ‹è´¦æˆ·ä½™é¢"><span class="toc-text">4.2 æŸ¥çœ‹è´¦æˆ·ä½™é¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-å¯åŠ¨-amp-åœæ­¢æŒ–çŸ¿"><span class="toc-text">4.3 å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-å‘é€äº¤æ˜“"><span class="toc-text">4.4 å‘é€äº¤æ˜“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—"><span class="toc-text">4.5 æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-å°ç»“"><span class="toc-text">4.6 å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦"><span class="toc-text">5ã€ä½¿ç”¨TestRPCä¸Truffleç»„åˆæ­å»ºæ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º"><span class="toc-text">5.1 æ™ºèƒ½åˆçº¦ç¯å¢ƒæ­å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾"><span class="toc-text">5.2 å‘å¸ƒåˆçº¦åˆ°ç§æœ‰é“¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦"><span class="toc-text">5.3 é€šè¿‡ä»¥å¤ªåŠé’±åŒ…æ¥æŸ¥çœ‹éƒ¨ç½²åˆçº¦</span></a></li></ol></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/MySQLç¬”è®°/" title="MySQLç¬”è®°">MySQLç¬”è®°<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/others/" title="others">others<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/ä»¥å¤ªåŠ/" title="ä»¥å¤ªåŠ">ä»¥å¤ªåŠ<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/MySQLåŸºç¡€/" title="MySQLåŸºç¡€">MySQLåŸºç¡€<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Blog/" title="Blog">Blog<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ä»¥å¤ªåŠåº”ç”¨-ç§é“¾/" title="ä»¥å¤ªåŠåº”ç”¨,ç§é“¾">ä»¥å¤ªåŠåº”ç”¨,ç§é“¾<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="ä¸€ä¸ªé¢å‘ç¨‹åºå‘˜äº¤æµåˆ†äº«çš„æ–°ä¸€ä»£ç¤¾åŒº">ç å†œåœˆ</a>
            
          </li>
        
          <li>
            
            	<a href="http://liyuechun.org/" target="_blank" title="é»è·ƒæ˜¥">é»è·ƒæ˜¥</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.cnblogs.com/bolenzhang" target="_blank" title="My cnblog">My cnblog</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.ruanyifeng.com/blog" target="_blank" title="é˜®ä¸€å³°">é˜®ä¸€å³°</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=zliyong007&verifier=a1405918&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> ç«‹å¾·ç«‹è¨€ æ— é—®è¥¿ä¸œ <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/zliyong007" target="_blank" class="icon-weibo" title="å¾®åš"></a>
		
		
		
		
		
		
		
		
		
		
		<a href="mailto:zliyong007@163.com## e.g. imjark@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> Â© 2018 
		
		<a href="/about" target="_blank" title="Bolen Zhang">Bolen Zhang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="å¾®ä¿¡"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="äººäºº"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="å¾®åš"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
